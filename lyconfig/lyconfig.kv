#: kivy 1.7.2
#:import la kivy.adapters.listadapter.ListAdapter
#:import lbl kivy.uix.label
#:import ok __main__
#:import os os

MainView:


<FileListItem>:
    size_hint: 1, None
    Label:
        text: root.filename


<FileList>:
    list_view: file_list
    ListView:
        id: file_list
        adapater: la.ListAdapter(data=[], cls=FileListItem)


<MainView>:
    anchor_y: "center"
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            size_hint: 1, None
            pos_hint: {"center_x": .5}
            height: "30dp"
            Label:
                text: "Options"
            Button:
                text: "Center"
            Button:
                text: "Fill"
            Button:
                text: "Max"
            Button:
                text: "Scale"
            Button:
                text: "Tile"

        BoxLayout:
            BoxLayout:
                orientation: "vertical"
                size_hint: 0.4, 1
                BoxLayout:
                    size_hint: 1, None
                    pos_hint: {"center_x": .5}
                    height: "30dp"
                    spacing: 0
                    TextInput:
                        id: wallpaper_dir_input
                        hint_text: "wallpaper directory..."
                        text: "/home/leny/System/Wallpapers"
                    Button:
                        text: "open"
                        size_hint: 0.2, 1
                        on_press: file_list.update(wallpaper_dir_input.text)
                FileList:
                    id: file_list
                    wallpaper_dir: wallpaper_dir_input.text

            BoxLayout:
                orientation: "vertical"
                size_hint: 0.6, 1
                BoxLayout:
                    orientation: "vertical"
                    Label:
                        text: "Preview"
                        size_hint: 0.2, 0.1
                    Button:
                        canvas:
                            Rectangle:
                                size: self.size
                                pos: self.pos
                                source: 'images/background.jpg'
                    Button:
                        text: "Set"
                        size_hint: 0.2, 0.1
                BoxLayout:
                    orientation: "vertical"
                    Label:
                        text: "Current"
                        size_hint: 0.2, 0.1
                    Button:
                        canvas:
                            Rectangle:
                                size: self.size
                                pos: self.pos
                                source: 'images/background.jpg'
        Label:
            size_hint: 1, None
            height: "25dp"
            text: wallpaper_dir_input.text
